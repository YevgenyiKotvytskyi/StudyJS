!function(e){var t={};function o(c){if(t[c])return t[c].exports;var n=t[c]={i:c,l:!1,exports:{}};return e[c].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(c,n,function(t){return e[t]}.bind(null,n));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var c=()=>{const e=document.querySelector("menu");document.body.addEventListener("click",t=>{const o=t.target;o.classList.contains("close-btn")||o.closest(".menu")||o.closest("menu li")?e.classList.toggle("active-menu"):o.closest("menu")||e.classList.remove("active-menu")})};var n=()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach(t=>{t.addEventListener("click",()=>{e.style.display="block"})}),e.addEventListener("click",t=>{const o=t.target;!o.matches(".popup-close")&&o.closest(".popup-content")||(e.style.display="none")})};var r=()=>{const e=document.querySelectorAll("ul>li"),t=document.querySelector("a[href='#service-block']"),o=e=>{const t=Date.now(),o=document.documentElement.scrollTop,c=e/1e3,n=setInterval(()=>{const r=Date.now()-t;if(r>1e3)return clearInterval(n),void(document.documentElement.scrollTop=o+e);!function(e){document.documentElement.scrollTop=o+e*c}(r)},20)},c=e=>{e.preventDefault();(e=>{if(e){const t=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top;o(t)}})(e.target.closest("a"))};t.addEventListener("click",c),e.forEach(e=>{e.addEventListener("click",c)})};var s=()=>{const e=document.querySelectorAll(".service-header .service-header-tab"),t=document.querySelector(".service-header"),o=document.querySelectorAll(".service-tab");t.addEventListener("click",t=>{const c=t.target,n=c.closest(".service-header-tab");n&&e.forEach((e,t)=>{var c;e===n?(e.classList.add("active"),c=t,o.forEach((e,t)=>{c===t?e.classList.remove("d-none"):e.classList.add("d-none")})):e.classList.remove("active")})})};var l=()=>{(()=>{document.querySelectorAll("li.dot").forEach(e=>e.remove());const e=document.querySelector("ul.portfolio-dots"),t=document.createElement("li");t.classList.add("dot"),document.querySelectorAll(".portfolio-content .portfolio-item").forEach((o,c)=>{const n=t.cloneNode();0===c&&n.classList.add("dot-active"),e.append(n)})})();const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio"),o=document.querySelectorAll(".dot");let c,n,r=0;const s=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},a=()=>{s(e,r,"portfolio-item-active"),s(o,r,"dot-active"),r++,r>=e.length&&(r=0),l(e,r,"portfolio-item-active"),l(o,r,"dot-active")},i=()=>{n||(n=3e3),c=setInterval(a,n)};t.addEventListener("click",t=>{t.preventDefault();const c=t.target;c.matches("#arrow-left, #arrow-right, .dot")&&(s(e,r,"portfolio-item-active"),s(o,r,"dot-active"),c.matches("#arrow-right")?r++:c.matches("#arrow-left")?r--:c.matches(".dot")&&o.forEach((e,t)=>{e===c&&(r=t)}),r>=e.length?r=0:r<0&&(r=e.length-1),l(e,r,"portfolio-item-active"),l(o,r,"dot-active"))}),t.addEventListener("mouseover",e=>{e.target.matches(".portfolio-btn, .dot")&&clearInterval(c)}),t.addEventListener("mouseout",e=>{e.target.matches(".portfolio-btn, .dot")&&i()}),n=1500,i()};var a=()=>{const e=document.getElementById("command"),t=document.getElementById("calc"),o=e=>{const t=e.target;if(t.matches("img.command__photo")){if(!t.mainPhoto)return t.mainPhoto=t.getAttribute("src"),void t.setAttribute("src",t.dataset.img);t.getAttribute("src")!==t.mainPhoto?t.setAttribute("src",t.mainPhoto):t.setAttribute("src",t.dataset.img)}};e.addEventListener("mouseover",o),e.addEventListener("mouseout",o),t.addEventListener("input",e=>{const t=e.target;t.matches("input.calc-item")&&(t.value=t.value.replace(/\D/,""))})};var i=(e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),c=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),s=document.getElementById("total");t.addEventListener("change",t=>{const l=t.target;let a=0,i=1,d=1;if(l.matches("select")||l.matches("input")){const t=o.options[o.selectedIndex].value,s=+c.value;n.value&&(i+=(n.value-1)/10),r.value&&(r.value<5?d*=2:r.value<10&&(d*=1.5)),t&&s&&(a=e*t*s*i*d)}a?(e=>{const t=e/2500*20,o=e-t;let c=0;const n=setInterval(()=>{c+=t,c<o?s.textContent=Math.ceil(c):(clearInterval(n),c=e),s.textContent=Math.ceil(c)},20)})(a):s.textContent=a})};var d=e=>{const t=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size: 2rem;\n    color: white;";const c=(()=>{document.head.insertAdjacentHTML("beforeEnd",'<link rel="stylesheet" href="./css/preloader.css">');const e=document.createElement("section");return e.classList.add("preloader"),e.innerHTML="\n            <div class='sk-circle-bounce'>\n            <div class='sk-child sk-circle-1'></div>\n            <div class='sk-child sk-circle-2'></div>\n            <div class='sk-child sk-circle-3'></div>\n            <div class='sk-child sk-circle-4'></div>\n            <div class='sk-child sk-circle-5'></div>\n            <div class='sk-child sk-circle-6'></div>\n            <div class='sk-child sk-circle-7'></div>\n            <div class='sk-child sk-circle-8'></div>\n            <div class='sk-child sk-circle-9'></div>\n            <div class='sk-child sk-circle-10'></div>\n            <div class='sk-child sk-circle-11'></div>\n            <div class='sk-child sk-circle-12'></div>\n            </div>\n        ",e.style.display="none",e})(),n=(e=!0)=>{e?(t.appendChild(c),c.style.top=`-${t.offsetHeight/2+30}px`,c.style.display="block",c.style.marginBottom="-"+c.offsetHeight+"px"):c.style.display="none",[...t.elements].forEach(t=>{t.disabled=e})};t.addEventListener("submit",c=>{if(c.preventDefault(),!(()=>{const t=document.querySelector(`#${e} [type=tel]`),o=/^\+?\d*$/;return!t||(""!==t.value.trim()&&o.test(t.value)?(t.style.border="",!0):(t.style.border="solid red",!1))})())return;n();const s=new FormData(t),l={};s.forEach((e,t)=>{l[t]=e});r(l,()=>{n(!1),o.textContent="Спасибо! Мы с Вами скоро свяжемся!",t.appendChild(o),[...t.elements].forEach(e=>{e.value&&(e.value="")})},e=>{n(!1),t.appendChild(o),o.textContent="Что то пошло не так ..",console.error(e)})});const r=(e,t,o)=>{fetch("./server.php",{method:"POST",mode:"same-origin",cache:"default",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(200!==e.status)throw new Error("Status network 200!");t()}).catch(e=>{o(e)})}};var u=e=>{const t=document.getElementById(e),o=/[а-яА-ЯёЁ\s]+/g,c=/[?!,.а-яА-ЯёЁ0-9\s]+/g;t.addEventListener("input",e=>{const t=e.target;t.matches("[name=user_name]")?t.value=[...t.value.matchAll(o)].join(""):t.matches("[name=user_message]")&&(t.value=[...t.value.matchAll(c)].join(""))})};(function(e){const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds"),n=new Date(e).getTime(),r=setInterval((function(){const e=function(){const e=(new Date).getTime(),t=(n-e)/1e3,o=Math.floor(t%60),c=Math.floor(t/60%60);return{hours:Math.floor(t/60/60),minutes:c,seconds:o}}();t.textContent=("0"+(e.hours>0?e.hours:0)).slice(-2),o.textContent=("0"+(e.minutes>0?e.minutes:0)).slice(-2),c.textContent=("00"+(e.seconds>0?e.seconds:0)).slice(-2),e.seconds<0&&clearInterval(r)}),1e3)})("02 july 2020 14:00"),c(),n(),r(),s(),l(),a(),i(100),d("form2"),d("form3"),u("form2"),u("form3")}]);